<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Michael Kutz">
<link rel="icon" type="image/png" href="https://shakespeareframework.org/favicon.png">
<title>Shakespeare Framework</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Shakespeare Framework</h1>
<div class="details">
<span id="author" class="author">Michael Kutz</span><br>
<span id="email" class="email"><a href="mailto:mail@michael-kutz.de">mail@michael-kutz.de</a></span><br>
<span id="revnumber">version 0.6-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_shakespeare">Shakespeare</a></li>
<li><a href="#_screenplay">Screenplay</a></li>
</ul>
</li>
<li><a href="#_getting_started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#_requirements">Requirements</a></li>
<li><a href="#_dependencies">Dependencies</a></li>
</ul>
</li>
<li><a href="#_actors_with_abilities">Actors with Abilities</a>
<ul class="sectlevel2">
<li><a href="#_actors">Actors</a></li>
<li><a href="#_abilities">Abilities</a></li>
</ul>
</li>
<li><a href="#_doing_tasks">Doing Tasks</a>
<ul class="sectlevel2">
<li><a href="#_tasks">Tasks</a></li>
<li><a href="#_tasks_with_parameters">Tasks with Parameters</a></li>
<li><a href="#_lambdas_as_tasks">Lambdas as Tasks</a></li>
<li><a href="#_abstraction_levels">Abstraction Levels</a></li>
</ul>
</li>
<li><a href="#_checking_questions">Checking Questions</a>
<ul class="sectlevel2">
<li><a href="#_questions">Questions</a></li>
</ul>
</li>
<li><a href="#_retryables">Retryables</a>
<ul class="sectlevel2">
<li><a href="#_retryable_tasks">Retryable Tasks</a></li>
<li><a href="#_retryable_questions">Retryable Questions</a></li>
</ul>
</li>
<li><a href="#_learning_remembering_facts">Learning &amp; Remembering Facts</a>
<ul class="sectlevel2">
<li><a href="#_relearning_facts">Relearning Facts</a></li>
<li><a href="#_poly_facts">Poly Facts</a></li>
<li><a href="#_facts_with_defaults_and_generators">Facts with Defaults and Generators</a></li>
<li><a href="#_personalized_tasksquestions">Personalized Tasks/Questions</a></li>
<li><a href="#_learning_by_doing">Learning by Doing</a></li>
</ul>
</li>
<li><a href="#_reporting">Reporting</a>
<ul class="sectlevel2">
<li><a href="#_built_in_reporters">Built-In Reporters</a></li>
</ul>
</li>
<li><a href="#_additional_modules">Additional Modules</a>
<ul class="sectlevel2">
<li><a href="#_browser_automation_with_selenium">Browser Automation with Selenium</a></li>
<li><a href="#_http_api_testing_with_retrofit">HTTP API Testing with Retrofit</a></li>
</ul>
</li>
<li><a href="#_further_reading">Further Reading</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a><a class="link" href="#_introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_shakespeare"><a class="anchor" href="#_shakespeare"></a><a class="link" href="#_shakespeare">Shakespeare</a></h3>
<div class="paragraph">
<p>Shakespeare is a Java implementation of Screenplay.
It was mainly created to explain the basic concepts of Screenplay and hence is kept rather simple in its core.</p>
</div>
</div>
<div class="sect2">
<h3 id="_screenplay"><a class="anchor" href="#_screenplay"></a><a class="link" href="#_screenplay">Screenplay</a></h3>
<div class="paragraph">
<p>A framework helping to write tests like screenplays.
It is based on the ideas from <a href="https://ideas.riverglide.com/page-objects-refactored-12ec3541990#.ekkiguobe">Page Objects Refactored</a> by Antony Marcano, Andy Palmer &amp; John Ferguson Smart, with Jan Molak.</p>
</div>
<div class="paragraph">
<p>Screenplay does not replace any testing framework like JUnit, TestNG, Spock, RSpec, Jasmine etc.
In fact, it works with any of these.
Screenplay rather structures complex test code in a different way that makes it</p>
</div>
<div class="ulist">
<ul>
<li>
<p>more readably,</p>
</li>
<li>
<p>more reusable, and</p>
</li>
<li>
<p>more maintainable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It does that mainly by taking a user-centric and object-oriented view on things.</p>
</div>
<div class="paragraph">
<p>In screenplay a user is represented by as an <em>Actor</em>.
Actors can have <em>Abilities</em>.
These enable them to do <em>Tasks</em> or answer <em>Questions</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-7a3e81e6682727c1b0fc0823c5b40be1.png" alt="Diagram" width="680" height="280">
</div>
<div class="title">Figure 1. Screenplay Core Concepts</div>
</div>
<div class="paragraph">
<p>In screenplay each of these concepts&#8212;&#8203;Actor, Ability, Task and Question&#8212;&#8203;are objects which abstract from the actual actions.</p>
</div>
<div class="paragraph">
<p>Actions can be calling an API, clicking a link, fetching an email, waiting for something to appear.
All these tiny noisy details are hidden within the Task or Question objects.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="#_getting_started"></a><a class="link" href="#_getting_started">Getting Started</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements"><a class="anchor" href="#_requirements"></a><a class="link" href="#_requirements">Requirements</a></h3>
<div class="paragraph">
<p>In oder to use Shakespeare you need a JDK 11 or higher.</p>
</div>
</div>
<div class="sect2">
<h3 id="_dependencies"><a class="anchor" href="#_dependencies"></a><a class="link" href="#_dependencies">Dependencies</a></h3>
<div class="paragraph">
<p>To use Shakespeare in your own project, you need to add it as a dependency to your project.</p>
</div>
<div class="listingblock primary">
<div class="title">Gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">implementation <span class="string"><span class="delimiter">'</span><span class="content">org.shakespeareframework:core:0.6-SNAPSHOT</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Maven</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>org.shakespeareframework<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>core<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>0.6-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>core</code> module is a transient dependency of any other module.
Hence, you don&#8217;t need to keep it once you add another module (e.g. <code>selenium</code> or <code>retrofit</code>)
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_bill_of_materials"><a class="anchor" href="#_bill_of_materials"></a><a class="link" href="#_bill_of_materials">Bill of Materials</a></h4>
<div class="paragraph">
<p>If you want to use more than one module in the same project, you can use Shakespeare&#8217;s bill of materials (BOM) and omit the explicit version for the other modules.</p>
</div>
<div class="listingblock primary">
<div class="title">Gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">implementation platform(<span class="string"><span class="delimiter">'</span><span class="content">org.shakespeareframework:bom:0.6-SNAPSHOT</span><span class="delimiter">'</span></span>)
implementation <span class="string"><span class="delimiter">'</span><span class="content">org.shakespeareframework:selenium</span><span class="delimiter">'</span></span>
implementation <span class="string"><span class="delimiter">'</span><span class="content">org.shakespeareframework:retrofit</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Maven</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;project&gt;</span>
  <span class="comment">&lt;!--…--&gt;</span>
  <span class="tag">&lt;dependencyManagement&gt;</span>
    <span class="tag">&lt;dependencies&gt;</span>
      <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>org.shakespeareframework<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>bom<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>0.6-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
        <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
        <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
      <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;/dependencies&gt;</span>
  <span class="tag">&lt;/dependencyManagement&gt;</span>
  <span class="comment">&lt;!-- … --&gt;</span>
  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>org.shakespeareframework<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>selenium<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>org.shakespeareframework<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>retrofit<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>
  <span class="comment">&lt;!-- … --&gt;</span>
<span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_actors_with_abilities"><a class="anchor" href="#_actors_with_abilities"></a><a class="link" href="#_actors_with_abilities">Actors with Abilities</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_actors"><a class="anchor" href="#_actors"></a><a class="link" href="#_actors">Actors</a></h3>
<div class="paragraph">
<p>The central object in a Screenplay and Shakespeare is the <a href="../javadoc/core/org/shakespeareframework/Actor.html">Actor</a>.
Actors represent something or someone that interacts with the system under test.</p>
</div>
<div class="paragraph">
<p>There can be any number of Actors in a Screenplay (Test).
To make different Actors easily identifiable, they have a name.
The name can be explicitly given or will be randomly assigned.</p>
</div>
<div class="listingblock">
<div class="title">Actor with explicitly given name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var robin = <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Robin</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Actor with random name</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var user = <span class="keyword">new</span> Actor();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_abilities"><a class="anchor" href="#_abilities"></a><a class="link" href="#_abilities">Abilities</a></h3>
<div class="paragraph">
<p>Actors may use <a href="../javadoc/core/org/shakespeareframework/Ability.html">Abilities</a> to interact with the system under test.</p>
</div>
<div class="paragraph">
<p>Ability is a simple marker interface.
Implementations should provide methods providing an object which allows interaction with the system under test.
If that object is being generated on demand or simply wrapped by the Ability is up to the implementation.</p>
</div>
<div class="listingblock">
<div class="title">A simple example for an Ability implementation</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">Log</span> <span class="directive">implements</span> Ability {

  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">Logger</span> logger;

  Log(<span class="predefined-type">String</span> name) {
    <span class="local-variable">this</span>.logger = <span class="predefined-type">Logger</span>.getLogger(name);
  }

  <span class="directive">public</span> <span class="predefined-type">Logger</span> getLogger() {
    <span class="keyword">return</span> logger;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To allow Actors to use an Ability it needs to be given to them via the <a href="../javadoc/core/org/shakespeareframework/Actor.html#can(org.shakespeareframework.Ability&#8230;&#8203;)"><code>can(Ability)</code> method</a>.</p>
</div>
<div class="listingblock">
<div class="title">Give an Ability to an Actor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var anna = <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Anna</span><span class="delimiter">&quot;</span></span>).can(<span class="keyword">new</span> Log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Anna</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get an Ability from an Actor, there&#8217;s the <a href="../javadoccore/org/shakespeareframework/Actor.html#uses(java.lang.Class))"><code>uses(Class&lt;? extends Ability&gt;)</code> method</a>.</p>
</div>
<div class="listingblock">
<div class="title">Get an Ability from an Actor</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var log = anna.uses(Log.class);
log.getLogger().info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_doing_tasks"><a class="anchor" href="#_doing_tasks"></a><a class="link" href="#_doing_tasks">Doing Tasks</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_tasks"><a class="anchor" href="#_tasks"></a><a class="link" href="#_tasks">Tasks</a></h3>
<div class="paragraph">
<p><a href="../javadoc/core/org/shakespeareframework/Task.html">Tasks</a> can be done by an Actor.
What the actor should do is defined in the <a href="../javadoc/core/org/shakespeareframework/Task.html#performAs(org.shakespeareframework.Actor)">performAs(Actor) method</a> of the Task.</p>
</div>
<div class="paragraph">
<p>As the Actor is given as an argument, the Task implementation has access to the Actor&#8217;s Abilities via the <a href="../javadoccore/org/shakespeareframework/Actor.html#uses(java.lang.Class))"><code>uses(Class&lt;? extends Ability&gt;)</code> method</a>.</p>
</div>
<div class="listingblock">
<div class="title">SayHelloWorld Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">SayHelloWorld</span> <span class="directive">implements</span> Task {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> performAs(Actor actor) {
    var logger = actor.uses(Log.class).getLogger();
    logger.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello World</span><span class="delimiter">&quot;</span></span>);
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Doing SayHelloWorld Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">tom.does(<span class="keyword">new</span> SayHelloWorld());</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tasks_with_parameters"><a class="anchor" href="#_tasks_with_parameters"></a><a class="link" href="#_tasks_with_parameters">Tasks with Parameters</a></h3>
<div class="paragraph">
<p>Some tasks require data to be executed.
E.g. a <code>SearchFor</code> Task probably needs a query string, or an <code>AddToCart</code> Task might need a product identifier.</p>
</div>
<div class="paragraph">
<p>Such data can be added as properties of the Task.</p>
</div>
<div class="listingblock">
<div class="title">SayHello Parameterized Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">SayHello</span> <span class="directive">implements</span> Task {

  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> to;

  <span class="directive">public</span> SayHello(<span class="predefined-type">String</span> to) {
    <span class="local-variable">this</span>.to = to;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> performAs(Actor actor) {
    var logger = actor.uses(Log.class).getLogger();
    logger.info(<span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello %s</span><span class="delimiter">&quot;</span></span>, to));
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As Tasks should not change over time and should be reusable, it is also possible to declare them as Java Records&#8212;&#8203;given that you can use Java 17+ features.</p>
</div>
<div class="paragraph">
<p>Doing the Tasks is the same for Classes and Records.</p>
</div>
<div class="listingblock">
<div class="title">SayHelloAsRecord Parameterized Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record SayHelloAsRecord(<span class="predefined-type">String</span> to) <span class="directive">implements</span> Task {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> performAs(Actor actor) {
    var logger = actor.uses(Log.class).getLogger();
    logger.info(<span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello %s</span><span class="delimiter">&quot;</span></span>, to));
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Doing SayHello Parameterized Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">alex.does(<span class="keyword">new</span> SayHello(<span class="string"><span class="delimiter">&quot;</span><span class="content">Shakespeare</span><span class="delimiter">&quot;</span></span>));
alex.does(<span class="keyword">new</span> SayHelloAsRecord(<span class="string"><span class="delimiter">&quot;</span><span class="content">Shakespeare</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lambdas_as_tasks"><a class="anchor" href="#_lambdas_as_tasks"></a><a class="link" href="#_lambdas_as_tasks">Lambdas as Tasks</a></h3>
<div class="paragraph">
<p>As Tasks only have one abstract method, they can be declared using Java&#8217;s Lambda syntax.</p>
</div>
<div class="listingblock">
<div class="title">Simple parameterized Task</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">mila.does(she -&gt; she.uses(Log.class).getLogger().info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hi</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A Task should group complex interactions into a semantic unit of work.
So declaring them as Lambdas might be useful for short-lived experiments or debugging, but is not generally advisable.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_abstraction_levels"><a class="anchor" href="#_abstraction_levels"></a><a class="link" href="#_abstraction_levels">Abstraction Levels</a></h3>
<div class="paragraph">
<p>Tasks are a powerful tool.
A task can be as simple as clicking on a link and as complex as a double-opt-in registration process.
Finding the right abstraction can be hard.
This chapter contains some examples how to find the right level of abstraction for Tasks.</p>
</div>
<div class="sect3">
<h4 id="_grouping_interactions"><a class="anchor" href="#_grouping_interactions"></a><a class="link" href="#_grouping_interactions">Grouping Interactions</a></h4>
<div class="paragraph">
<p>The simplest kind of Tasks are those who group simple interactions with the system under test.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a Task to log in to a website.
This might consist of the following interactions with the website:</p>
</div>
<div class="listingblock">
<div class="title">LoginTask</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">Login</span> <span class="directive">implements</span> Task {

  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> username;
  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> password;

  Login(<span class="predefined-type">String</span> username, <span class="predefined-type">String</span> password) {
    <span class="local-variable">this</span>.username = username;
    <span class="local-variable">this</span>.password = password;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> performAs(Actor actor) {
    var webDriver = actor.uses(BrowseTheWeb.class).getWebDriver();

    webDriver.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://parabank.parasoft.com/</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>

    webDriver
        .findElement(By.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="2"></i><b>(2)</b>
        .sendKeys(username); <i class="conum" data-value="3"></i><b>(3)</b>
    webDriver
        .findElement(By.name(<span class="string"><span class="delimiter">&quot;</span><span class="content">password</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="4"></i><b>(4)</b>
        .sendKeys(password); <i class="conum" data-value="5"></i><b>(5)</b>
    webDriver
        .findElement(By.cssSelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">.login input.button</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="6"></i><b>(6)</b>
        .click(); <i class="conum" data-value="7"></i><b>(7)</b>
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> toString() {
    <span class="keyword">return</span> <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">login as %s</span><span class="delimiter">&quot;</span></span>, username);
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Navigate to the website,</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>find the "username" input field,</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>write "john" into it,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>find the "password" input field,</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>write "demo" into it,</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>find the login button,</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>click on it.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see all the interactions are wrapped in the Task object.
It has fields for the username and the password, so we can easily reuse the Task with other credentials.</p>
</div>
</div>
<div class="sect3">
<h4 id="_grouping_tasks"><a class="anchor" href="#_grouping_tasks"></a><a class="link" href="#_grouping_tasks">Grouping Tasks</a></h4>
<div class="paragraph">
<p>As the Actor is fully injected into the <code>performAs</code> method, it is also possible to do other tasks in a Task.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s take a shop website as an example.
In order to check out, there are several complex steps needed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add any product to the shopping cart,</p>
</li>
<li>
<p>navigate to the checkout page,</p>
</li>
<li>
<p>enter a delivery address,</p>
</li>
<li>
<p>enter valid payment details,</p>
</li>
<li>
<p>confirm the checkout.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>All these steps could be Tasks in their own right, but if we want to test that the user is able to cancel the order after check out, we might want to bundle the steps into something like a <code>Checkout</code> Task.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is generally a bad idea to mix simple interactions with sub-tasks, as it makes finding problems much harder!
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_checking_questions"><a class="anchor" href="#_checking_questions"></a><a class="link" href="#_checking_questions">Checking Questions</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_questions"><a class="anchor" href="#_questions"></a><a class="link" href="#_questions">Questions</a></h3>
<div class="paragraph">
<p><a href="../javadoc/core/org/shakespeareframework/Question.html">Questions</a> are pretty similar to <a href="#_tasks">Tasks</a>, but may return an answer.</p>
</div>
<div class="paragraph">
<p>They can be checked (answered) by an Actor.
How the Actor finds the answer to a Question is defined in the <a href="../javadoc/core/org/shakespeareframework/Question.html#answerAs(org.shakespeareframework.Actor)">answerAs(Actor) method</a> of the Question.</p>
</div>
<div class="paragraph">
<p>Similar to the <a href="../javadoc/core/org/shakespeareframework/Task.html#performAs(org.shakespeareframework.Actor)">performAs(Actor) method</a> of the Task, the Actor is given as an argument, so a Question can use all the Actor&#8217;s Abilities to find the answer.</p>
</div>
<div class="listingblock">
<div class="title">LoggedInState Question</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">LoggedInState</span> <span class="directive">implements</span> Question&lt;<span class="predefined-type">Boolean</span>&gt; {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">Boolean</span> answerAs(Actor actor) {
    var webDriver = actor.uses(BrowseTheWeb.class).getWebDriver();

    <span class="keyword">return</span> webDriver.findElement(By.linkText(<span class="string"><span class="delimiter">&quot;</span><span class="content">Log Out</span><span class="delimiter">&quot;</span></span>)).isDisplayed();
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> toString() {
    <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">login state</span><span class="delimiter">&quot;</span></span>;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>While it is possible to put complex interactions in Questions it is generally advisable to keep them simple and independent.</p>
</div>
<div class="sect3">
<h4 id="_good_questions"><a class="anchor" href="#_good_questions"></a><a class="link" href="#_good_questions">Good Questions</a></h4>
<div class="paragraph">
<p>Undoubtedly good questions do not change the state of the system under test in any way</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Checking a web element is present,</p>
</li>
<li>
<p>performing a GET call on an HTTP API and return its body,</p>
</li>
<li>
<p>fetching email and retuning its content.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_ugly_questions"><a class="anchor" href="#_ugly_questions"></a><a class="link" href="#_ugly_questions">Ugly Questions</a></h4>
<div class="paragraph">
<p>Doubtfully ugly questions don&#8217;t change the persisted state of the system under test, but change the local state.
For example the current displayed view.
Using such questions requires to check the state in following Tasks or Questions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the user&#8217;s profile page to check for data that is only visible there,</p>
</li>
<li>
<p>checking available products by switching to the search results page.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Especially in web applications this type of Questions are often unavoidable, but should be kept to a minimum.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bad_questions"><a class="anchor" href="#_bad_questions"></a><a class="link" href="#_bad_questions">Bad Questions</a></h4>
<div class="paragraph">
<p>Changing the persistent state of the system under test should genrally be avoided and be left to Tasks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sending data to a backend API,</p>
</li>
<li>
<p>login to a web application,</p>
</li>
<li>
<p>deleting email.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_retryables"><a class="anchor" href="#_retryables"></a><a class="link" href="#_retryables">Retryables</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some things take time.
E.g. after creating an account, it might take some time for a confirmation email to arrive.</p>
</div>
<div class="paragraph">
<p>Shakespeare provides a generic way to wait for things to succeed: <a href="../javadoc/core/org/shakespeareframework/Retryable.html">Retryables</a>.</p>
</div>
<div class="paragraph">
<p>They can be used just like regular Tasks and Questions, but they additionally have a defined timeout after which an Actor will give up and an interval in which an Actor will retry.
The default timeout is 2 seconds, the default interval is the 10th of the timeout.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Shakespeare&#8217;s Retryables are meant for things that a human user would need to retry as well.
To wait for UI elements to show up, there are better usually more efficient ways available (e.g. in Selenium, Cypress etc.).
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_retryable_tasks"><a class="anchor" href="#_retryable_tasks"></a><a class="link" href="#_retryable_tasks">Retryable Tasks</a></h3>
<div class="paragraph">
<p>A <a href="../javadoc/core/org/shakespeareframework/RetryableTask.html">RetryableTask</a> also has a set of acknowledged exceptions.
By default, an Actor will ignore all Exceptions thrown in retries, but will immediately fail if it is an instance of an acknowledged Exception.</p>
</div>
<div class="paragraph">
<p>E.g. you might expect a NotFoundException but not a AuthorizationFailedException.
So you can just add the latter to the acknowledgedExceptions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retryable_questions"><a class="anchor" href="#_retryable_questions"></a><a class="link" href="#_retryable_questions">Retryable Questions</a></h3>
<div class="paragraph">
<p>A <a href="../javadoc/core/org/shakespeareframework/RetryableQuestion.html">RetryableQuestion</a> has a set of ignored Exceptions and an acceptable method.
While any Exception thrown that is not in the set of ignored exceptions will break the retrying loop, the acceptable method will be called for each yielded answer.
Only if the acceptable method returns true, the retrying will stop and return the (accepted) answer.</p>
</div>
<div class="paragraph">
<p>There is a default implementation of acceptable, which will a number of possible answers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Optionals that are present,</p>
</li>
<li>
<p>non-empty Collections, Maps or Arrays,</p>
</li>
<li>
<p>any Boolean answer, and</p>
</li>
<li>
<p>anything that not null.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Checked in that order.</p>
</div>
<div class="paragraph">
<p>This default implementation might suit your needs already, but you can always override it with your own logic.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_learning_remembering_facts"><a class="anchor" href="#_learning_remembering_facts"></a><a class="link" href="#_learning_remembering_facts">Learning &amp; Remembering Facts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="../javadoc/core/org/shakespeareframework/Fact.html">Facts</a> are a way to add data to the <a href="../javadoc/core/org/shakespeareframework/Actor.html">Actor</a>.
After a Fact was <a href="../javadoc/core/org/shakespeareframework/Actor.html#learns(org.shakespeareframework.Fact&#8230;&#8203;)">learned</a>, it can always be <a href="../javadoccore/org/shakespeareframework/Actor.html#remembers(java.lang.Class)">remembered</a> by its class and be used to do Tasks or answer Questions.</p>
</div>
<div class="listingblock">
<div class="title">Learn and remember Facts</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">kate.learns(<span class="keyword">new</span> PhoneNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">+49 0180 4 100 100</span><span class="delimiter">&quot;</span></span>));

PhoneNumber katesPhoneNumber = kate.remembers(PhoneNumber.class);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fact classes only need to implement the (empty) Fact marker interface.
Apart from that they can be basically anything but should be immutable value objects or records.</p>
</div>
<div class="listingblock">
<div class="title">PhoneNumber Fact</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record PhoneNumber(<span class="predefined-type">String</span> number) <span class="directive">implements</span> Fact {}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_relearning_facts"><a class="anchor" href="#_relearning_facts"></a><a class="link" href="#_relearning_facts">Relearning Facts</a></h3>
<div class="paragraph">
<p>Note that an Actor cannot remember multiple instances of a Fact.
When you call remember with two different instances of the same Fact class, the older one is being forgotten and replaced by the new one.</p>
</div>
<div class="listingblock">
<div class="title">Learn and remember Facts</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">kate.learns(<span class="keyword">new</span> PhoneNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">+49 0180 4 100 100</span><span class="delimiter">&quot;</span></span>));

kate.learns(<span class="keyword">new</span> PhoneNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">+1 (303) 499-7111</span><span class="delimiter">&quot;</span></span>));

PhoneNumber katesNewPhoneNumber = kate.remembers(PhoneNumber.class);
assertThat(katesNewPhoneNumber).isEqualTo(<span class="keyword">new</span> PhoneNumber(<span class="string"><span class="delimiter">&quot;</span><span class="content">+1 (303) 499-7111</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_poly_facts"><a class="anchor" href="#_poly_facts"></a><a class="link" href="#_poly_facts">Poly Facts</a></h3>
<div class="paragraph">
<p>One way to achieve something similar are Poly Facts: Simply Facts with multiple fields.</p>
</div>
<div class="paragraph">
<p>E.g. a PhoneNumbers Fact might contain a field for a work phone number and one for a home phone number:</p>
</div>
<div class="listingblock">
<div class="title">PhoneNumbers Poly Fact</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record PhoneNumbers(<span class="predefined-type">String</span> home, <span class="predefined-type">String</span> work) <span class="directive">implements</span> Fact {}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Learn and remember Poly Facts</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">robin.learns(<span class="keyword">new</span> PhoneNumbers(<span class="string"><span class="delimiter">&quot;</span><span class="content">+49 0180 4 100 100</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">+1 (303) 499-7111</span><span class="delimiter">&quot;</span></span>));

var robinsPhoneNumbers = robin.remembers(PhoneNumbers.class);
var robinsHomePhoneNumber = robinsPhoneNumbers.home();
var robinsWorkPhoneNumber = robinsPhoneNumbers.work();</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_facts_with_defaults_and_generators"><a class="anchor" href="#_facts_with_defaults_and_generators"></a><a class="link" href="#_facts_with_defaults_and_generators">Facts with Defaults and Generators</a></h3>
<div class="paragraph">
<p>One great advantage of Fact classes is the possibility of adding static fields and methods.</p>
</div>
<div class="paragraph">
<p>E.g. you can put that one valid test credit card number in a <code>public static CreditCard DEFAULT</code> in your <code>CreditCard</code> Fact class:</p>
</div>
<div class="listingblock">
<div class="title">CreditCard Fact with default</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record CreditCard(<span class="predefined-type">String</span> type, <span class="predefined-type">String</span> number, YearMonth expiration) <span class="directive">implements</span> Fact {
  <span class="directive">public</span> <span class="directive">static</span> CreditCard DEFAULT_VISA =
      <span class="keyword">new</span> CreditCard(<span class="string"><span class="delimiter">&quot;</span><span class="content">visa</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">4111111111111111</span><span class="delimiter">&quot;</span></span>, YearMonth.of(<span class="integer">2026</span>, <span class="integer">10</span>));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or you can add a method to generate valid unique random email addresses to your <code>EmailAddress</code> Fact class:</p>
</div>
<div class="listingblock">
<div class="title">EmailAddress with random generator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record EmailAddress(<span class="predefined-type">String</span> address) <span class="directive">implements</span> Fact {
  <span class="directive">public</span> <span class="directive">static</span> EmailAddress random() {
    <span class="keyword">return</span> <span class="keyword">new</span> EmailAddress(<span class="string"><span class="delimiter">&quot;</span><span class="content">%s@shakespeareframework.org</span><span class="delimiter">&quot;</span></span>.formatted(<span class="predefined-type">UUID</span>.randomUUID()));
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_personalized_tasksquestions"><a class="anchor" href="#_personalized_tasksquestions"></a><a class="link" href="#_personalized_tasksquestions">Personalized Tasks/Questions</a></h3>
<div class="paragraph">
<p>Facts can be used to provide an Actor with necessary information for certain Tasks and Questions instead of using <a href="#_tasks_with_parameters">Tasks with Parameters</a>.</p>
</div>
<div class="paragraph">
<p>By doing so, we can instruct an Actors to do something with their memory as context.</p>
</div>
<div class="paragraph">
<p>For example, to create an account we usually require a lot of personal information.
To human testers, I can say "go create an account", and they will use their own data to do that.
Using Facts we can achieve the same feel of a personal context.</p>
</div>
<div class="paragraph">
<p>In that case, an Actors learn their facts in the setup phase of a test.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Using Facts in your Tasks and Questions can be a really nice experience.
You don&#8217;t need to keep your test data at hand in you test code, but can confine it in the test&#8217;s setup phase.
However, by doing so you might end up scrolling back and forth in order to understand a failing test.
So you really want to limit this to data that is really <em>owned</em> by an Actor.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_learning_by_doing"><a class="anchor" href="#_learning_by_doing"></a><a class="link" href="#_learning_by_doing">Learning by Doing</a></h3>
<div class="paragraph">
<p>Another possible use case for Facts is to learn things while doing things.
E.g. after finishing a shop&#8217;s checkout process it might be useful to remember the displayed order number.</p>
</div>
<div class="paragraph">
<p>In that case the Facts are learned as a side effect of a Task or a Question.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t overdo this!
Side effects are not easy to keep track of,
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reporting"><a class="anchor" href="#_reporting"></a><a class="link" href="#_reporting">Reporting</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="../javadoc/core/org/shakespeareframework/Actor.html">Actor</a>s can report actions and their outcome via <a href="../javadoc/core/org/shakespeareframework/reporting/Reporter.html">Reporter</a>s that can be added using the link:../javadoc/core/org/shakespeareframework/Actor.html#informs(org.shakespeareframework.reporting.Reporter&#8230;&#8203;))[<code>informs(Reporter&#8230;&#8203;)</code> method.</p>
</div>
<div class="paragraph">
<p>Actors call each of their Reporters in the declared order for the following events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When starting to do a Task or answer a Question,</p>
</li>
<li>
<p>when retrying a RetryableTask or RetryableQuestion,</p>
</li>
<li>
<p>when successfully finishing a Task or successfully answering a Question,</p>
</li>
<li>
<p>when failing to do a Task or answer a Question.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_built_in_reporters"><a class="anchor" href="#_built_in_reporters"></a><a class="link" href="#_built_in_reporters">Built-In Reporters</a></h3>
<div class="sect3">
<h4 id="_the_slf4jreporter"><a class="anchor" href="#_the_slf4jreporter"></a><a class="link" href="#_the_slf4jreporter">The <a href="../javadoc/core/org/shakespeareframework/reporting/Slf4jReporter.html">Slf4jReporter</a></a></h4>
<div class="paragraph">
<p>Uses the Slf4j Logger to print each action of the Actor.
Successful actions will be logged as info, failure as warnings.
Note that actions are only logged after finishing.</p>
</div>
<div class="paragraph">
<p>Each action is printed with</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Actor&#8217;s name,</p>
</li>
<li>
<p>the Task&#8217;s/Question&#8217;s toString output,</p>
</li>
<li>
<p>the result (success = <code>✓</code>, failure = <code>✗</code>, each retry = <code>•</code>),</p>
</li>
<li>
<p>the action&#8217;s duration (e.g. 245ms),</p>
</li>
<li>
<p>in case of a failure the causing exception&#8217;s simple class name (e.g. <code>ElementNotFoundException</code>),</p>
</li>
<li>
<p>in case of a successful question the given answer (e.g. <code>→ answer</code>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Sub Tasks and Questions are printed as a hierarchic tree.</p>
</div>
<div class="listingblock">
<div class="title">Slf4jReporter example output</div>
<div class="content">
<pre class="CodeRay highlight"><code>19:45:18.359 [Test worker] WARN Logan - Logan does login ✓ 1s15ms
├── Logan does enter username ✓ 312ms
├── Logan does enter password ✓ 432ms
└── Logan does submit login form ✓ 43ms
    └── Logan does confirm terms and conditions •✗ 245ms ElementNotFoundException
19:45:19.876 [Test worker] INFO Logan - Logan checks login state ✓ 1s15ms → false</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_modules"><a class="anchor" href="#_additional_modules"></a><a class="link" href="#_additional_modules">Additional Modules</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_browser_automation_with_selenium"><a class="anchor" href="#_browser_automation_with_selenium"></a><a class="link" href="#_browser_automation_with_selenium">Browser Automation with Selenium</a></h3>
<div class="paragraph">
<p>The Selenium Module provides the <a href="../javadoc/selenium/org/shakespeareframework/selenium/BrowseTheWeb.html">BrowseTheWeb Ability</a>, which basically provides a managed <a href="https://www.selenium.dev/documentation/webdriver/">Selenium WebDriver</a>.</p>
</div>
<div class="paragraph">
<p>The Ability not only warps a WebDriver, but also manages it using a <a href="../javadoc/selenium/org/shakespeareframework/selenium/WebDriverSupplier.html">WebDriverSupplier</a> which comes in different flavors for different scenarios (e.g. local debugging or continuous integration).</p>
</div>
<div class="sect3">
<h4 id="_setup"><a class="anchor" href="#_setup"></a><a class="link" href="#_setup">Setup</a></h4>
<div class="sect4">
<h5 id="_for_local_development"><a class="anchor" href="#_for_local_development"></a><a class="link" href="#_for_local_development">For Local Development</a></h5>
<div class="paragraph">
<p>When you write your UI tests locally, it is quite useful (and also satisfying) to be able to watch the automation work in a local browser, checking the browser&#8217;s developer and logs.
For this Shakespeare comes with the <a href="../javadoc/selenium/org/shakespeareframework/selenium/LocalWebDriverSupplier.html">LocalWebDriverSupplier</a>, which relies on a local installation of the browser.</p>
</div>
<div class="paragraph">
<p>It does take care of downloading the required binary, starting the browser as soon as the Actor actually uses it and closing it after the test case.</p>
</div>
<div class="listingblock">
<div class="title">Setup for local development</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var tim =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tim</span><span class="delimiter">&quot;</span></span>).can(<span class="keyword">new</span> BrowseTheWeb(<span class="keyword">new</span> LocalWebDriverSupplier(BrowserType.CHROME)));</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_for_continuous_integration_with_docker"><a class="anchor" href="#_for_continuous_integration_with_docker"></a><a class="link" href="#_for_continuous_integration_with_docker">For Continuous Integration with Docker</a></h5>
<div class="paragraph">
<p>Continuous integration (CI) environments usually don&#8217;t have a viewport and sometimes not even any browsers installed.
For such scenarios Shakespeare comes with the <a href="../javadoc/selenium/org/shakespeareframework/selenium/DockerWebDriverSupplier.html">DockerWebDriverSupplier</a>.</p>
</div>
<div class="paragraph">
<p>As the name suggests, it requires Docker to be available on the CI system and uses it to provide a container with the desired browser installed.</p>
</div>
<div class="listingblock">
<div class="title">Setup for Docker Continuous Integration with Docker</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var jodie =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Jodie</span><span class="delimiter">&quot;</span></span>).can(<span class="keyword">new</span> BrowseTheWeb(<span class="keyword">new</span> DockerWebDriverSupplier(BrowserType.FIREFOX)));</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_using_webdrivermanager"><a class="anchor" href="#_using_webdrivermanager"></a><a class="link" href="#_using_webdrivermanager">Using WebDriverManager</a></h5>
<div class="paragraph">
<p>Both of the above variants rely on the <a href="https://bonigarcia.dev/webdrivermanager/">WebDriverManager</a> internally.</p>
</div>
<div class="paragraph">
<p><a href="../javadoc/selenium/org/shakespeareframework/selenium/WebDriverManagerWebDriverSupplier.html">WebDriverManagerWebDriverSupplier</a> allows to use it directly and thereby use all of its features.</p>
</div>
<div class="listingblock">
<div class="title">Setup with WebDriverManager</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var webDriverManager = WebDriverManager.edgedriver().browserInDocker();
var alex =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Alex</span><span class="delimiter">&quot;</span></span>)
        .can(
            <span class="keyword">new</span> BrowseTheWeb(
                <span class="keyword">new</span> WebDriverManagerWebDriverSupplier(webDriverManager, BrowserType.EDGE)));</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_base_url"><a class="anchor" href="#_base_url"></a><a class="link" href="#_base_url">Base URL</a></h4>
<div class="paragraph">
<p>Usually you will be testing one specific web application.
In order to reset the browser to the URL of that application, you can give that base URL as an additional parameter to the <a href="../javadoc/selenium/org/shakespeareframework/selenium/BrowseTheWeb.html#&lt;init&gt;(org.shakespeareframework.selenium.WebDriverSupplier,java.lang.String)">WebDriverManager</a>.
The URL will be automatically called when you call <a href="../javadoc/selenium/org/shakespeareframework/selenium/BrowseTheWeb.html#getWebDriver()">getWebDriver</a>.</p>
</div>
<div class="listingblock">
<div class="title">Configure a base URL</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var browseTheWeb = <span class="keyword">new</span> BrowseTheWeb(webDriverSupplier, <span class="string"><span class="delimiter">&quot;</span><span class="content">https://shakespeareframework.org/</span><span class="delimiter">&quot;</span></span>);

assertThat(browseTheWeb.getWebDriver().getCurrentUrl())
    .isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">https://shakespeareframework.org/</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_additional_capabilities"><a class="anchor" href="#_additional_capabilities"></a><a class="link" href="#_additional_capabilities">Additional Capabilities</a></h4>
<div class="paragraph">
<p>All <a href="../javadoc/selenium/org/shakespeareframework/selenium/WebDriverSupplier.html">WebDriverSuppliers</a> provide a constructor, which allows configuring additional Capabilities.</p>
</div>
<div class="listingblock">
<div class="title">Additional Capabilities in a LocalWebDriverSupplier</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var cameron =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Cameron</span><span class="delimiter">&quot;</span></span>)
        .can(
            <span class="keyword">new</span> BrowseTheWeb(
                <span class="keyword">new</span> LocalWebDriverSupplier(
                    BrowserType.CHROME, <span class="keyword">new</span> ChromeOptions().setHeadless(<span class="predefined-constant">true</span>))));</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_selenium_reporting"><a class="anchor" href="#_selenium_reporting"></a><a class="link" href="#_selenium_reporting">Selenium Reporting</a></h4>
<div class="sect4">
<h5 id="_screenshot_reporting"><a class="anchor" href="#_screenshot_reporting"></a><a class="link" href="#_screenshot_reporting">Screenshot Reporting</a></h5>
<div class="paragraph">
<p>An actor can be instructed to inform <a href="../javadoc/selenium/org/shakespeareframework/selenium/ScreenshotReporter.html">ScreenshotReporter</a> (see <a href="#_reporting">Reporting</a>).
By default, this will create a screenshot of the current page whenever doing a Task or answering a Question needs to be retried or fails, but it can also be configured to report successes.</p>
</div>
<div class="paragraph">
<p>The screenshots can then be found at the configured reports path and are named <code>&lt;counter&gt;-&lt;actor&gt;-&lt;retry|failure|success&gt;-&lt;task|question string&gt;.png</code>, where the <code>&lt;task|question string&gt;</code> is a file system friendly version of the Task&#8217;s or Question&#8217;s <code>toString()</code>.
E.g. <code>001-imogen-success-latest_shakespeare_release_version.png</code>.</p>
</div>
<div class="listingblock">
<div class="title">Using a ScreenshotReporter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var reportsPath = Path.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">build</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">reports</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">shakespeare</span><span class="delimiter">&quot;</span></span>);
var imogen =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Imogen</span><span class="delimiter">&quot;</span></span>)
        .can(<span class="keyword">new</span> BrowseTheWeb(<span class="keyword">new</span> DockerWebDriverSupplier(BrowserType.FIREFOX)))
        .informs(<span class="keyword">new</span> ScreenshotReporter(reportsPath, <span class="predefined-constant">true</span>));

imogen.checks(<span class="keyword">new</span> LatestShakespeareReleaseVersion());

assertThat(reportsPath.resolve(<span class="string"><span class="delimiter">&quot;</span><span class="content">001-imogen-success-latest_shakespeare_release_version.png</span><span class="delimiter">&quot;</span></span>))
    .isNotEmptyFile();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_html_snapshot_reports"><a class="anchor" href="#_html_snapshot_reports"></a><a class="link" href="#_html_snapshot_reports">HTML Snapshot Reports</a></h5>
<div class="paragraph">
<p>Similar to the <a href="#_screenshot_reporting">Screenshot Reporting</a> there&#8217;s also a <a href="../javadoc/selenium/org/shakespeareframework/selenium/HtmlSnapshotReporter.html">HtmlSnapshotReporter</a>, which captures the current page&#8217;s HTML snapshot.</p>
</div>
<div class="listingblock">
<div class="title">Using a HtmlSnapshotReporter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">var reportsPath = Path.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">build</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">reports</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">shakespeare</span><span class="delimiter">&quot;</span></span>);
var tim =
    <span class="keyword">new</span> Actor(<span class="string"><span class="delimiter">&quot;</span><span class="content">Tim</span><span class="delimiter">&quot;</span></span>)
        .can(<span class="keyword">new</span> BrowseTheWeb(<span class="keyword">new</span> DockerWebDriverSupplier(BrowserType.FIREFOX)))
        .informs(<span class="keyword">new</span> HtmlSnapshotReporter(reportsPath, <span class="predefined-constant">true</span>));

tim.checks(<span class="keyword">new</span> LatestShakespeareReleaseVersion());

assertThat(reportsPath.resolve(<span class="string"><span class="delimiter">&quot;</span><span class="content">001-tim-success-latest_shakespeare_release_version.html</span><span class="delimiter">&quot;</span></span>))
    .isNotEmptyFile();</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_http_api_testing_with_retrofit"><a class="anchor" href="#_http_api_testing_with_retrofit"></a><a class="link" href="#_http_api_testing_with_retrofit">HTTP API Testing with Retrofit</a></h3>
<div class="paragraph">
<p>The Retrofit Module provides the <a href="../javadoc/retrofit/org/shakespeareframework/retrofit/CallHttpApis.html">CallHttpApis Ability</a>, which allows building Retrofit-based HTTP API clients.</p>
</div>
<div class="sect3">
<h4 id="_declaring_the_api"><a class="anchor" href="#_declaring_the_api"></a><a class="link" href="#_declaring_the_api">Declaring the API</a></h4>
<div class="paragraph">
<p>In order to create a client, Retrofit requires an interface, which describes the API.
For this, please follow the instructions in the <a href="https://square.github.io/retrofit/#api-declaration">Retrofit "API Declaration" documentation chapter</a>.</p>
</div>
<div class="listingblock">
<div class="title">API declaration example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">interface</span> <span class="class">ActorsApi</span> {

  <span class="annotation">@GET</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/actors</span><span class="delimiter">&quot;</span></span>)
  Call&lt;<span class="predefined-type">List</span>&lt;ActorInfo&gt;&gt; getActors();

  <span class="annotation">@GET</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/actors/{id}/name</span><span class="delimiter">&quot;</span></span>)
  Call&lt;<span class="predefined-type">String</span>&gt; getActorName(<span class="annotation">@Path</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> id);
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_building_the_client"><a class="anchor" href="#_building_the_client"></a><a class="link" href="#_building_the_client">Building the Client</a></h4>
<div class="paragraph">
<p>Once the API interface is declared, the client can be build.</p>
</div>
<div class="sect4">
<h5 id="_for_scalar_bodies_strings_integers_floats"><a class="anchor" href="#_for_scalar_bodies_strings_integers_floats"></a><a class="link" href="#_for_scalar_bodies_strings_integers_floats">For Scalar Bodies (Strings, Integers, Floats)</a></h5>
<div class="listingblock">
<div class="title">Example for scalar bodies</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record ActorName(<span class="predefined-type">String</span> id) <span class="directive">implements</span> Question&lt;<span class="predefined-type">String</span>&gt; {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">String</span> answerAs(Actor actor) {
    var actorsApiClient =
        actor
            .uses(CallHttpApis.class)
            .buildClient() <i class="conum" data-value="1"></i><b>(1)</b>
            .baseUrl(ACTORS_SERVICE_URL) <i class="conum" data-value="2"></i><b>(2)</b>
            .addScalarsConverterFactory() <i class="conum" data-value="3"></i><b>(3)</b>
            .build(ActorsApi.class); <i class="conum" data-value="4"></i><b>(4)</b>
    <span class="keyword">try</span> {
      <span class="keyword">return</span> actorsApiClient.getActorName(id).execute().body();
    } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">RuntimeException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%s failed</span><span class="delimiter">&quot;</span></span>.formatted(<span class="local-variable">this</span>), e);
    }
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>getClient</code> method returns a <a href="../javadoc/retrofit/org/shakespeareframework/retrofit/CallHttpApis.Builder.html">CallHttpApis.Builder</a>,</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>configure the base URL of the service&#8212;&#8203;it will be put in front of the relative URLs in the API annotations,</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>add needed ConverterFactory to convert response/request bodies,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>build the client for the given API declaration.</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_for_json_bodies"><a class="anchor" href="#_for_json_bodies"></a><a class="link" href="#_for_json_bodies">For JSON Bodies</a></h5>
<div class="listingblock">
<div class="title">Example for JSON bodies</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">record AllActors() <span class="directive">implements</span> Question&lt;<span class="predefined-type">List</span>&lt;ActorInfo&gt;&gt; {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="predefined-type">List</span>&lt;ActorInfo&gt; answerAs(Actor actor) {
    var actorsApiClient =
        actor
            .uses(CallHttpApis.class)
            .buildClient()
            .baseUrl(ACTORS_SERVICE_URL)
            .addJacksonConverterFactory() <i class="conum" data-value="1"></i><b>(1)</b>
            .build(ActorsApi.class);
    <span class="keyword">try</span> {
      <span class="keyword">return</span> actorsApiClient.getActors().execute().body();
    } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">RuntimeException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">%s failed</span><span class="delimiter">&quot;</span></span>.formatted(<span class="local-variable">this</span>), e);
    }
  }
}

record ActorInfo(<span class="predefined-type">String</span> id, <span class="predefined-type">String</span> name) {} <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>By adding the JacksonConverterFactory, the client will be able to parse the JSON body</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>into an instance of ActorInfo.</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_other_converters"><a class="anchor" href="#_other_converters"></a><a class="link" href="#_other_converters">Other Converters</a></h5>
<div class="paragraph">
<p>Retrofit provides a <a href="https://square.github.io/retrofit/#restadapter-configuration">number of other converters</a>.</p>
</div>
<div class="paragraph">
<p>Shakespeare currently ships only with Jackson and Scalars, but you can add other ones.
To do so, add the required dependency to your project, and use the generic <a href="../javadoc/retrofit/org/shakespeareframework/retrofit/CallHttpApis.Builder.html#addConverterFactory(retrofit2.Converter.Factory)">addConverterFactory method</a> to add it to your client.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_reading"><a class="anchor" href="#_further_reading"></a><a class="link" href="#_further_reading">Further Reading</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="../javadoc">JavaDoc API documentation</a></p>
</li>
<li>
<p><a href="https://github.com/mkutz/shakespeare/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></p>
</li>
<li>
<p><a href="https://github.com/mkutz/shakespeare/blob/main/CONTRIBUTING.md">Information for  Contributors</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.6-SNAPSHOT<br>
Last updated 2022-08-30 16:19:46 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>