#!/bin/sh

stagedFiles=$(git diff --staged --name-only)

echo "ðŸ§¹ Formatting code running spotlessApplyâ€¦"
./gradlew spotlessApply
if [ $? -ne 0 ]; then
  echo 'âœ— formatting failed'
  exit 1
fi

for file in $stagedFiles; do
  if test -f "$file"; then
    git add "$file"
  fi
done

echo "âœ“ formatting successful"
exit 0
